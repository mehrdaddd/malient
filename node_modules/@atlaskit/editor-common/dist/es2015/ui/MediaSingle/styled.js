import * as tslib_1 from "tslib";
import styled, { css } from 'styled-components';
import { akEditorFullPageMaxWidth, akEditorWideLayoutWidth, } from '../../styles';
function float(layout) {
    switch (layout) {
        case 'wrap-right':
            return 'right';
        case 'wrap-left':
            return 'left';
        default:
            return 'none';
    }
}
function calcWidth(layout, width, containerWidth) {
    // we need 4px space for the gap cursor
    var gapCursorSpace = 4;
    switch (layout) {
        case 'wrap-right':
        case 'wrap-left':
            return width > akEditorFullPageMaxWidth / 2
                ? 'calc(50% - 12px)'
                : width + "px";
        case 'wide':
            return Math.min(akEditorWideLayoutWidth, width) + "px";
        case 'full-width':
            return Math.min(width, containerWidth) - gapCursorSpace + "px";
        default:
            return width > akEditorFullPageMaxWidth ? '100%' : width + "px";
    }
}
function calcMargin(layout) {
    switch (layout) {
        case 'wrap-right':
            return '12px auto 12px 24px';
        case 'wrap-left':
            return '12px 24px 12px auto';
        default:
            return '24px auto';
    }
}
var MediaSingleDimensionHelper = function (_a) {
    var width = _a.width, height = _a.height, layout = _a.layout;
    return css(templateObject_1 || (templateObject_1 = tslib_1.__makeTemplateObject(["\n  margin: ", ";\n  &::after {\n    content: '';\n    display: block;\n    padding-bottom: ", "%;\n  }\n"], ["\n  margin: ", ";\n  &::after {\n    content: '';\n    display: block;\n    padding-bottom: ", "%;\n  }\n"])), calcMargin(layout), height / width * 100);
};
var Wrapper = styled.div.attrs({
    style: function (_a) {
        var layout = _a.layout, width = _a.width, containerWidth = _a.containerWidth;
        return ({
            width: calcWidth(layout, width, containerWidth),
            maxWidth: containerWidth < akEditorFullPageMaxWidth ? '100%' : containerWidth,
            float: float(layout),
        });
    },
})(templateObject_2 || (templateObject_2 = tslib_1.__makeTemplateObject(["\n  ", ";\n  position: relative;\n  & > div {\n    position: absolute;\n    height: 100%;\n  }\n"], ["\n  ", ";\n  position: relative;\n  & > div {\n    position: absolute;\n    height: 100%;\n  }\n"])), MediaSingleDimensionHelper);
Wrapper.displayName = 'WrapperMediaSingle';
export default Wrapper;
var templateObject_1, templateObject_2;
//# sourceMappingURL=styled.js.map