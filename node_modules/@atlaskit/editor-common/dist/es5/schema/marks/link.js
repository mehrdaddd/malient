"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var groups_1 = require("../groups");
var utils_1 = require("../../utils");
exports.link = {
    excludes: groups_1.COLOR,
    group: groups_1.LINK,
    attrs: {
        href: {},
    },
    inclusive: false,
    parseDOM: [
        {
            tag: 'a[href]',
            getAttrs: function (dom) {
                var href = dom.getAttribute('href') || '';
                if (href.slice(-1) === '/') {
                    href = href.slice(0, -1);
                }
                return utils_1.isSafeUrl(href) ? { href: utils_1.normalizeUrl(href) } : false;
            },
        },
    ],
    toDOM: function (node) {
        return ['a', node.attrs];
    },
};
//# sourceMappingURL=link.js.map