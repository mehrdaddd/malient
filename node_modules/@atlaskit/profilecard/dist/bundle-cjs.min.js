module.exports=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.modifyResponse=t.AkProfileClient=t.AkProfilecardTrigger=t.AkProfilecard=void 0;var o=n(2),i=r(o),l=n(28),a=r(l),s=n(35),u=r(s),d=n(36),p=r(d);t.AkProfilecard=i.default,t.AkProfilecardTrigger=p.default,t.AkProfileClient=a.default,t.modifyResponse=l.modifyResponse,t.default=u.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),i=r(o),l=n(4),a=r(l),s=n(5),u=r(s),d=n(6),p=r(d),c=n(7),f=r(c),h=n(8),m=r(h),g=n(9),y=n(10),x=r(y),b=n(11),v=r(b),C=n(12),k=r(C),E=n(13),w=r(E),P=n(19),T=r(P),M=n(20),S=r(M),_=n(27),D=r(_),z=n(25),A=function(e){function t(n){(0,a.default)(this,t);var r=(0,u.default)(this,e.call(this,n));return r._durationSince=function(e){var t=parseInt(e,10)||0;return t>0?Date.now()-t:null},r._timeOpen=null,r.clientFetchProfile=function(){var e;r.props.analytics("profile-card.reload",{}),(e=r.props).clientFetchProfile.apply(e,arguments)},r}return(0,p.default)(t,e),t.prototype.componentDidMount=function(){this._timeOpen=Date.now(),this.props.analytics("profile-card.view",{})},t.prototype.renderActionsButtons=function(){var e=this;return 0===this.props.actions.length?null:m.default.createElement(z.ActionButtonGroup,null,this.props.actions.map(function(t,n){return m.default.createElement(k.default,{appearance:0===n?"default":"subtle",compact:!0,key:t.label,onClick:function(){e.props.analytics("profile-card.click",{id:t.id||null,duration:e._durationSince(e._timeOpen)}),t.callback.apply(t,arguments)}},t.label)}))},t.prototype.renderErrorMessage=function(){return m.default.createElement(w.default,{reload:this.props.clientFetchProfile&&this.clientFetchProfile,errorType:this.props.errorType})},t.prototype.renderCardDetailsDefault=function(){var e=D.default[this.props.presence];return m.default.createElement(z.DetailsGroup,null,m.default.createElement(z.FullNameLabel,{noMeta:!this.props.meta},this.props.fullName),this.props.meta&&m.default.createElement(z.JobTitleLabel,null,this.props.meta),m.default.createElement(S.default,{icon:this.props.presence},!!e&&this.props.presenceMessage||e),m.default.createElement(S.default,{icon:"email"},this.props.email),m.default.createElement(S.default,{icon:"mention"},this.props.nickname&&"@"+this.props.nickname),m.default.createElement(S.default,{icon:"time"},this.props.timestring),m.default.createElement(S.default,{icon:"location"},this.props.location))},t.prototype.renderCardDetailsDeactivated=function(){var e=this.props.isCensored?this.props.nickname:this.props.fullName;return m.default.createElement(z.DetailsGroup,null,m.default.createElement(z.FullNameLabel,{noMeta:!0},e),m.default.createElement(z.DeactivatedInfo,null,"This user is no longer available"))},t.prototype.renderCardDetailsCensored=function(){return m.default.createElement(z.DetailsGroup,null,m.default.createElement(z.FullNameLabel,{noMeta:!0},this.props.nickname))},t.prototype.renderCardDetailsApp=function(){return m.default.createElement(z.DetailsGroup,null,m.default.createElement(z.FullNameLabel,null,this.props.fullName),m.default.createElement(z.AppTitleLabel,null,"App"),m.default.createElement(S.default,{icon:"mention"},this.props.nickname&&"@"+this.props.nickname))},t.prototype.renderCardDetails=function(){return this.props.isBot?this.renderCardDetailsApp():this.props.isActive?this.props.isCensored?this.renderCardDetailsCensored():this.renderCardDetailsDefault():this.renderCardDetailsDeactivated()},t.prototype.renderProfilecard=function(){return this.props.analytics("profile-card.loaded",{duration:this._durationSince(this._timeOpen)}),m.default.createElement(z.CardContainer,null,m.default.createElement(z.ProfileImage,null,m.default.createElement(v.default,{size:"xlarge",src:this.props.isActive?this.props.avatarUrl:null,borderColor:g.colors.N0})),m.default.createElement(z.CardContent,null,this.renderCardDetails(),m.default.createElement(z.ActionsFlexSpacer,null),this.renderActionsButtons()))},t.prototype.render=function(){var e=null;return this.props.hasError?(this.props.analytics("profile-card.error",{}),e=this.renderErrorMessage()):this.props.isLoading?e=m.default.createElement(z.SpinnerContainer,null,m.default.createElement(x.default,null)):this.props.fullName&&(e=this.renderProfilecard()),m.default.createElement(T.default,null,e)},t}(h.PureComponent);A.propTypes={isCensored:f.default.bool,isActive:f.default.bool,isBot:f.default.bool,avatarUrl:f.default.string,fullName:f.default.string,meta:f.default.string,nickname:f.default.string,email:f.default.string,location:f.default.string,timestring:f.default.string,presence:f.default.oneOf((0,i.default)(D.default)),actions:f.default.arrayOf(f.default.shape({callback:f.default.function,id:f.default.string,label:f.default.string})),isLoading:f.default.bool,hasError:f.default.bool,errorType:f.default.shape({reason:f.default.oneOf(["default","NotFound"])}),clientFetchProfile:f.default.func,analytics:f.default.func,presenceMessage:f.default.string},A.defaultProps={isCurrentUser:!1,isCensored:!1,isActive:!0,isBot:!1,isNotMentionable:!1,presence:"none",actions:[],isLoading:!1,hasError:!1,analytics:function(){},presenceMessage:""},t.default=A},function(e,t){e.exports=require("babel-runtime/core-js/object/keys")},function(e,t){e.exports=require("babel-runtime/helpers/classCallCheck")},function(e,t){e.exports=require("babel-runtime/helpers/possibleConstructorReturn")},function(e,t){e.exports=require("babel-runtime/helpers/inherits")},function(e,t){e.exports=require("prop-types")},function(e,t){e.exports=require("react")},function(e,t){e.exports=require("@atlaskit/theme")},function(e,t){e.exports=require("@atlaskit/spinner")},function(e,t){e.exports=require("@atlaskit/avatar")},function(e,t){e.exports=require("@atlaskit/button")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),i=r(o),l=n(5),a=r(l),s=n(6),u=r(s),d=n(7),p=r(d),c=n(8),f=r(c),h=n(14),m=r(h),g=n(12),y=r(g),x=n(15),b=function(e){function t(){var n,r,o;(0,i.default)(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=(0,a.default)(this,e.call.apply(e,[this].concat(s))),r.renderNotFound=function(){return f.default.createElement(x.ErrorTitle,null,"The user is no longer available for the site")},r.renderDefault=function(){return f.default.createElement(x.ErrorTitle,null,"Oops, looks like we’re having issues",f.default.createElement("br",null),r.props.reload?f.default.createElement(x.ErrorText,null,"Try again and we’ll give it another shot"):null)},r.renderRetryButton=function(){return r.props.reload?f.default.createElement(y.default,{appearance:"link",compact:!0,onClick:r.props.reload},"Try again"):null},o=n,(0,a.default)(r,o)}return(0,u.default)(t,e),t.prototype.renderErrorContent=function(){var e=this.props.errorType.reason;switch(e){case"NotFound":return this.renderNotFound();default:return this.renderDefault()}},t.prototype.render=function(){return f.default.createElement(x.ErrorWrapper,null,f.default.createElement(m.default,{label:"icon error",size:"xlarge"}),this.renderErrorContent(),this.renderRetryButton())},t}(c.PureComponent);b.propTypes={reload:p.default.func,errorType:p.default.shape({reason:p.default.string})},b.defaultProps={errorType:{reason:"default"}},t.default=b},function(e,t){e.exports=require("@atlaskit/icon/glyph/cross-circle")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorText=t.ErrorTitle=t.ErrorWrapper=void 0;var o=n(16),i=r(o),l=(0,i.default)(["\n  text-align: center;\n  padding: ","px;\n  color: ",";\n"],["\n  text-align: center;\n  padding: ","px;\n  color: ",";\n"]),a=(0,i.default)(["\n  color: ",";\n  line-height: ","px;\n  margin: ","px 0px;\n"],["\n  color: ",";\n  line-height: ","px;\n  margin: ","px 0px;\n"]),s=(0,i.default)(["\n  color: ",";\n"],["\n  color: ",";\n"]),u=n(17),d=r(u),p=n(9),c=n(18);t.ErrorWrapper=d.default.div(l,p.math.multiply(p.gridSize,3),c.errorIconColor),t.ErrorTitle=d.default.p(a,c.errorTitleColor,p.math.multiply(p.gridSize,3),p.gridSize),t.ErrorText=d.default.span(s,c.errorTextColor)},function(e,t){e.exports=require("babel-runtime/helpers/taggedTemplateLiteral")},function(e,t){e.exports=require("styled-components")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorTextColor=t.errorTitleColor=t.errorIconColor=t.labelIconColor=t.labelTextColor=t.appLabelTextColor=t.appLabelBgColor=t.headerTextColor=t.headerBgColor=t.bgColor=t.bgBorderColor=t.bgShadowColor=void 0;var r=n(9);t.bgShadowColor=(0,r.themed)({light:r.colors.N50A,dark:r.colors.DN50A}),t.bgBorderColor=(0,r.themed)({light:r.colors.N60A,dark:r.colors.DN60A}),t.bgColor=(0,r.themed)({light:r.colors.N0,dark:r.colors.DN50}),t.headerBgColor=(0,r.themed)({light:r.colors.B500,dark:r.colors.B100}),t.headerTextColor=(0,r.themed)({light:r.colors.N0,dark:r.colors.N0}),t.appLabelBgColor=(0,r.themed)({light:r.colors.N20,dark:r.colors.N20}),t.appLabelTextColor=(0,r.themed)({light:r.colors.N500,dark:r.colors.N500}),t.labelTextColor=(0,r.themed)({light:r.colors.N800,dark:r.colors.DN900}),t.labelIconColor=(0,r.themed)({light:r.colors.N60,dark:r.colors.DN100}),t.errorIconColor=(0,r.themed)({light:r.colors.N90,dark:r.colors.DN90}),t.errorTitleColor=(0,r.themed)({light:r.colors.N800,dark:r.colors.DN800}),t.errorTextColor=(0,r.themed)({light:r.colors.N90,dark:r.colors.DN90})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),i=r(o),l=n(5),a=r(l),s=n(6),u=r(s),d=n(16),p=r(d),c=(0,p.default)(["\n  background-color: ",";\n  border-radius: ","px;\n  box-shadow: 0 4px 8px -2px ",", 0 0 1px ",";\n  cursor: default;\n  font-family: ",";\n  font-size: ","px;\n  overflow: hidden;\n  position: relative;\n  transition: height 0.25s ease;\n  width: ","px;\n"],["\n  background-color: ",";\n  border-radius: ","px;\n  box-shadow: 0 4px 8px -2px ",", 0 0 1px ",";\n  cursor: default;\n  font-family: ",";\n  font-size: ","px;\n  overflow: hidden;\n  position: relative;\n  transition: height 0.25s ease;\n  width: ","px;\n"]),f=n(7),h=r(f),m=n(8),g=r(m),y=n(17),x=r(y),b=n(9),v=n(18),C=x.default.div(c,v.bgColor,b.borderRadius,v.bgShadowColor,v.bgBorderColor,b.fontFamily,b.fontSize,b.math.multiply(b.gridSize,45)),k=function(e){function t(){var n,r,o;(0,i.default)(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=(0,a.default)(this,e.call.apply(e,[this].concat(s))),r.state={height:"auto"},o=n,(0,a.default)(r,o)}return(0,u.default)(t,e),t.prototype.componentDidMount=function(){this.updateRefHeight()},t.prototype.componentDidUpdate=function(){this.updateRefHeight()},t.prototype.preventDefault=function(e){e.persist(),e.preventDefault()},t.prototype.updateRefHeight=function(){this.setState({height:this.ref&&this.ref.children.length?this.ref.children[0].offsetHeight:"auto"})},t.prototype.render=function(){var e=this,t={height:this.state.height};return g.default.createElement(C,{style:t,innerRef:function(t){return e.ref=t},onClick:this.preventDefault},this.props.children)},t}(m.PureComponent);k.propTypes={children:h.default.node},t.default=k},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),i=r(o),l=n(5),a=r(l),s=n(6),u=r(s),d=n(7),p=r(d),c=n(8),f=r(c),h=n(21),m=r(h),g=n(22),y=r(g),x=n(23),b=r(x),v=n(24),C=r(v),k=n(11),E=n(25),w={location:m.default,time:y.default,mention:b.default,email:C.default,available:function(){return f.default.createElement(k.Presence,{presence:"online",borderColor:"transparent"})},unavailable:function(){return f.default.createElement(k.Presence,{presence:"offline",borderColor:"transparent"})},busy:function(){return f.default.createElement(k.Presence,{presence:"busy",borderColor:"transparent"})},focus:function(){return f.default.createElement(k.Presence,{presence:"focus",borderColor:"transparent"})}},P=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.render=function(){if(!this.props.children)return null;var e=w[this.props.icon],t=e?f.default.createElement(e,{label:"icon "+this.props.icon}):null;return f.default.createElement(E.DetailsLabel,null,f.default.createElement(E.DetailsLabelIcon,null,t),f.default.createElement(E.DetailsLabelText,null,this.props.children))},t}(c.PureComponent);P.propTypes={icon:p.default.string,children:p.default.oneOfType([p.default.string,p.default.node])},t.default=P},function(e,t){e.exports=require("@atlaskit/icon/glyph/location")},function(e,t){e.exports=require("@atlaskit/icon/glyph/recent")},function(e,t){e.exports=require("@atlaskit/icon/glyph/mention")},function(e,t){e.exports=require("@atlaskit/icon/glyph/email")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.DetailsLabelText=t.DetailsLabelIcon=t.DetailsLabel=t.CardContainer=t.SpinnerContainer=t.AppTitleLabel=t.JobTitleLabel=t.FullNameLabel=t.DeactivatedInfo=t.DetailsGroup=t.CardContent=t.ActionButtonGroup=t.ActionsFlexSpacer=t.ProfileImage=void 0;var o=n(16),i=r(o),l=(0,i.default)(["\n  position: absolute;\n  top: ","px;\n  left: ","px;\n"],["\n  position: absolute;\n  top: ","px;\n  left: ","px;\n"]),a=(0,i.default)(["\n  flex: 1 0 auto;\n"],["\n  flex: 1 0 auto;\n"]),s=(0,i.default)(["\n  user-select: none;\n  margin: ","px 0 0 0;\n  text-align: right;\n\n  button {\n    margin-left: ","px;\n\n    &:first-child {\n      margin-left: 0;\n    }\n  }\n"],["\n  user-select: none;\n  margin: ","px 0 0 0;\n  text-align: right;\n\n  button {\n    margin-left: ","px;\n\n    &:first-child {\n      margin-left: 0;\n    }\n  }\n"]),u=(0,i.default)(["\n  display: flex;\n  flex-direction: column;\n  min-height: ","px;\n"],["\n  display: flex;\n  flex-direction: column;\n  min-height: ","px;\n"]),d=(0,i.default)(["\n  display: flex;\n  flex-direction: column;\n  margin-left: ","px;\n  width: ","px;\n"],["\n  display: flex;\n  flex-direction: column;\n  margin-left: ","px;\n  width: ","px;\n"]),p=(0,i.default)(["\n  font-size: ","px;\n  color: ",";\n  margin: ","px 0 0 0;\n  line-height: ","em;\n"],["\n  font-size: ","px;\n  color: ",";\n  margin: ","px 0 0 0;\n  line-height: ","em;\n"]),c=(0,i.default)(["\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n\n  font-size: 18px;\n  color: ",";\n  margin: ",";\n  line-height: ","em;\n"],["\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n\n  font-size: 18px;\n  color: ",";\n  margin: ",";\n  line-height: ","em;\n"]),f=(0,i.default)(["\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n\n  font-size: 14px;\n  color: ",";\n  margin: 0 0 ","px 0;\n  line-height: ","em;\n"],["\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n\n  font-size: 14px;\n  color: ",";\n  margin: 0 0 ","px 0;\n  line-height: ","em;\n"]),h=(0,i.default)(["\n  background: ",";\n  color: ",";\n  border-radius: ",";\n  padding: 0 6px;\n  width: fit-content;\n  font-weight: bold;\n  text-transform: uppercase;\n\n  font-size: 12px;\n  margin: 4px 0 ","px 0;\n  line-height: ","em;\n"],["\n  background: ",";\n  color: ",";\n  border-radius: ",";\n  padding: 0 6px;\n  width: fit-content;\n  font-weight: bold;\n  text-transform: uppercase;\n\n  font-size: 12px;\n  margin: 4px 0 ","px 0;\n  line-height: ","em;\n"]),m=(0,i.default)(["\n  align-items: center;\n  display: flex;\n  height: ","px;\n  justify-content: center;\n  position: relative;\n"],["\n  align-items: center;\n  display: flex;\n  height: ","px;\n  justify-content: center;\n  position: relative;\n"]),g=(0,i.default)(["\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  background-image: linear-gradient(\n    to bottom,\n    "," 0%,\n    "," 100%\n  );\n  background-repeat: no-repeat;\n  background-size: 100% ","px;\n  box-sizing: content-box;\n  padding: ","px;\n"],["\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  background-image: linear-gradient(\n    to bottom,\n    "," 0%,\n    "," 100%\n  );\n  background-repeat: no-repeat;\n  background-size: 100% ","px;\n  box-sizing: content-box;\n  padding: ","px;\n"]),y=(0,i.default)(["\n  display: flex;\n  align-items: center;\n  line-height: ","px;\n  font-size: ","px;\n  margin: ","px 0 0 0;\n  white-space: nowrap;\n\n  & + & {\n    margin-top: ","px;\n  }\n"],["\n  display: flex;\n  align-items: center;\n  line-height: ","px;\n  font-size: ","px;\n  margin: ","px 0 0 0;\n  white-space: nowrap;\n\n  & + & {\n    margin-top: ","px;\n  }\n"]),x=(0,i.default)(["\n  display: flex;\n  flex-shrink: 0;\n  color: ",";\n  width: ","px;\n  height: ","px;\n  padding: ","px;\n  vertical-align: top;\n\n  svg {\n    width: 100%;\n    height: 100%;\n  }\n"],["\n  display: flex;\n  flex-shrink: 0;\n  color: ",";\n  width: ","px;\n  height: ","px;\n  padding: ","px;\n  vertical-align: top;\n\n  svg {\n    width: 100%;\n    height: 100%;\n  }\n"]),b=(0,i.default)(["\n  overflow: hidden;\n  text-overflow: ellipsis;\n  color: ",";\n  padding-left: ","px;\n"],["\n  overflow: hidden;\n  text-overflow: ellipsis;\n  color: ",";\n  padding-left: ","px;\n"]),v=n(17),C=r(v),k=n(26),E=n(9),w=n(18),P=E.math.multiply(E.gridSize,4.5)()+"px 0 "+E.math.multiply(E.gridSize,1.5)()+"px 0",T=E.math.multiply(E.gridSize,1.5)()+"px 0 0 0",M=function(e){return e.noMeta?P:T};t.ProfileImage=C.default.div(l,E.math.multiply(E.gridSize,3),E.math.multiply(E.gridSize,3)),t.ActionsFlexSpacer=C.default.div(a),t.ActionButtonGroup=C.default.div(s,E.math.multiply(E.gridSize,2),E.gridSize),t.CardContent=C.default.div(u,E.math.multiply(E.gridSize,17)),t.DetailsGroup=C.default.div(d,E.math.multiply(E.gridSize,14.5),E.math.multiply(E.gridSize,24.5)),t.DeactivatedInfo=C.default.div(p,E.math.multiply(E.gridSize,1.5),w.labelTextColor,E.math.multiply(E.gridSize,1.5),E.math.divide(function(){return 24},12)),t.FullNameLabel=C.default.span(c,w.headerTextColor,function(e){return M(e)},E.math.divide(function(){return 24},18)),t.JobTitleLabel=C.default.span(f,w.headerTextColor,E.math.multiply(E.gridSize,1.5),E.math.divide(function(){return 24},14)),t.AppTitleLabel=C.default.span(h,w.appLabelBgColor,w.appLabelTextColor,k.akBorderRadius,E.math.multiply(E.gridSize,1.5),E.math.divide(function(){return 24},14)),t.SpinnerContainer=C.default.div(m,E.math.multiply(E.gridSize,12)),t.CardContainer=C.default.div(g,w.headerBgColor,w.headerBgColor,E.math.multiply(E.gridSize,12),E.math.multiply(E.gridSize,3)),t.DetailsLabel=C.default.div(y,E.math.multiply(E.gridSize,3),E.math.multiply(E.gridSize,1.5),E.math.multiply(E.gridSize,2),E.math.multiply(E.gridSize,.25)),t.DetailsLabelIcon=C.default.div(x,w.labelIconColor,E.math.multiply(E.gridSize,2),E.math.multiply(E.gridSize,2),E.math.multiply(E.gridSize,.5)),t.DetailsLabelText=C.default.span(b,w.labelTextColor,E.math.multiply(E.gridSize,.5))},function(e,t){e.exports=require("@atlaskit/util-shared-styles")},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={none:"",available:"Available",busy:"Busy",unavailable:"Away",focus:"Focused"};t.default=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.modifyResponse=void 0;var o=n(4),i=r(o),l=n(29),a=r(l),s=n(30),u=r(s),d=n(31),p=r(d);n(32),n(33);var c=n(34),f=function(e){if(!e)return null;var t=e.state,n=e.stateMetadata?JSON.parse(e.stateMetadata):null;return"busy"===t&&n&&n.focus&&(t="focus"),t},h=t.modifyResponse=function(e){var t=f(e.Presence),n=(0,p.default)({},e.User,{presence:t,presenceMessage:e.Presence&&e.Presence.message}),r=(new Date).getDay().toString();return n.remoteWeekdayIndex&&n.remoteWeekdayIndex!==r&&(n.remoteTimeString=n.remoteWeekdayString+" "+n.remoteTimeString),n.isCensored="visible"!==n.isCensored,n.timestring=n.remoteTimeString,delete n.remoteWeekdayIndex,delete n.remoteWeekdayString,delete n.remoteTimeString,delete n.id,n},m=function(){var e=new Headers;return e.append("Content-Type","application/json"),e},g=function(e,t){return{query:'query User($userId: String!, $cloudId: String!) {\n    User: CloudUser(userId: $userId, cloudId: $cloudId) {\n      id,\n      isCurrentUser,\n      isCensored: censoredStatus,\n      isActive: active,\n      isBot,\n      isNotMentionable,\n      fullName,\n      nickname,\n      email,\n      meta: title,\n      location,\n      companyName,\n      avatarUrl(size: 192),\n      remoteWeekdayIndex: localTime(format: "d"),\n      remoteWeekdayString: localTime(format: "ddd"),\n      remoteTimeString: localTime(format: "h:mma"),\n    }\n    Presence: Presence(organizationId: $cloudId, userId: $userId) {\n      state,\n      type,\n      date,\n      stateMetadata,\n      message\n    }\n  }',variables:{cloudId:e,userId:t}}},y=function(e,t,n){var r=m(),o=g(t,n);return fetch(new Request(e,{method:"POST",credentials:"include",mode:"cors",headers:r,body:(0,u.default)(o)})).then(function(e){return e.ok?e.json().then(function(e){return e.errors?a.default.reject({reason:e.errors[0].category||"default"}):h(e.data)}):a.default.reject({code:e.status,reason:e.statusText})})},x=function(){function e(t){(0,i.default)(this,e);var n={cacheSize:10,cacheMaxAge:null};this.config=(0,p.default)({},n,t),this.cacheMaxAge=Math.max(parseInt(this.config.cacheMaxAge,10),0)||null,this.cacheMaxAge&&(this.cacheMaxAge=Math.min(this.cacheMaxAge,2592e6)),this.cache=null===this.cacheMaxAge?null:new c.LRUCache(this.config.cacheSize)}return e.prototype.makeRequest=function(e,t){if(!this.config.url)throw new Error("config.url is a required parameter");return y(this.config.url,e,t)},e.prototype.setCachedProfile=function(e,t,n){var r=e+"/"+t;this.cache.put(r,n)},e.prototype.getCachedProfile=function(e,t){var n=e+"/"+t,r=this.cache&&this.cache.get(n);return r?r.expire<Date.now()?(this.cache.remove(n),null):(this.cache.set(n,{expire:Date.now()+this.cacheMaxAge,profile:r.profile}),r.profile):null},e.prototype.flushCache=function(){this.cache&&this.cache.removeAll()},e.prototype.getProfile=function(e,t){var n=this;if(!e||!t)return a.default.reject(new Error("cloudId or userId missing"));var r=this.getCachedProfile(e,t);return r?a.default.resolve(r):new a.default(function(r,o){n.makeRequest(e,t).then(function(o){n.cache&&n.setCachedProfile(e,t,{expire:Date.now()+n.cacheMaxAge,profile:o}),r(o)}).catch(function(e){o(e)})})},e}();t.default=x},function(e,t){e.exports=require("babel-runtime/core-js/promise")},function(e,t){e.exports=require("babel-runtime/core-js/json/stringify")},function(e,t){e.exports=require("babel-runtime/helpers/extends")},function(e,t){e.exports=require("es6-promise/auto")},function(e,t){e.exports=require("whatwg-fetch")},function(e,t){e.exports=require("lru-fast")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(31),i=r(o),l=n(4),a=r(l),s=n(5),u=r(s),d=n(6),p=r(d),c=n(7),f=r(c),h=n(8),m=r(h),g=n(2),y=r(g),x=function(e){function t(n){(0,a.default)(this,t);var r=(0,u.default)(this,e.call(this,n));return r._isMounted=!1,r.state={isLoading:!1,hasError:!1,error:null,data:{}},r.clientFetchProfile=r.clientFetchProfile.bind(r),r}return(0,p.default)(t,e),t.prototype.componentDidMount=function(){this._isMounted=!0,this.clientFetchProfile()},t.prototype.componentDidUpdate=function(e){this.props.userId===e.userId&&this.props.cloudId===e.cloudId||this.clientFetchProfile()},t.prototype.componentWillUnmount=function(){this._isMounted=!1},t.prototype.clientFetchProfile=function(){var e=this,t=this.props,n=t.cloudId,r=t.userId;this.setState({isLoading:!0,hasError:!1,data:{}}),this.props.resourceClient.getProfile(n,r).then(function(t){return e.handleClientSuccess(t)},function(t){return e.handleClientError(t)}).catch(function(t){return e.handleClientError(t)})},t.prototype.handleClientSuccess=function(e){this._isMounted&&this.setState({isLoading:!1,hasError:!1,data:e})},t.prototype.handleClientError=function(e){this._isMounted&&this.setState({isLoading:!1,hasError:!0,error:e})},t.prototype.filterActions=function(){var e=this;return this.props.actions.filter(function(t){return!t.shouldRender||("function"!=typeof t.shouldRender?Boolean(t.shouldRender):t.shouldRender(e.state.data))})},t.prototype.render=function(){var e=(0,i.default)({isLoading:this.state.isLoading,hasError:this.state.hasError,errorType:this.state.error,clientFetchProfile:this.clientFetchProfile,analytics:this.props.analytics},this.state.data);return m.default.createElement(y.default,(0,i.default)({},e,{actions:this.filterActions()}))},t}(h.PureComponent);x.propTypes={userId:f.default.string.isRequired,cloudId:f.default.string.isRequired,actions:f.default.arrayOf(f.default.shape({callback:f.default.func,shouldRender:f.default.func,id:f.default.string,label:f.default.string})),resourceClient:f.default.shape({getProfile:f.default.func,getCachedProfile:f.default.func,makeRequest:f.default.func}).isRequired,analytics:f.default.func},x.defaultProps={actions:[]},t.default=x},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(31),i=r(o),l=n(4),a=r(l),s=n(5),u=r(s),d=n(6),p=r(d),c=n(7),f=r(c),h=n(8),m=r(h),g=n(37),y=r(g),x=n(38),b=r(x),v=n(39),C=r(v),k=n(35),E=r(k),w=n(41),P=["top left","top right","right top","right bottom","bottom right","bottom left","left bottom","left top"],T=(0,C.default)(y.default),M=function(e){function t(n){(0,a.default)(this,t);var r=(0,u.default)(this,e.call(this,n));return r.handleLayerFlipChange=function(e){var t=e.flipped;r.setState({isFlipped:t})},r.hideProfilecard=function(){clearTimeout(r.showTimer),r.hideTimer=setTimeout(function(){r.setState({visible:!1})},r.hideDelay)},r.showProfilecard=function(){clearTimeout(r.hideTimer),r.showTimer=setTimeout(function(){r.setState({visible:!0})},r.showDelay)},r.showDelay=500,r.hideDelay=250,r.state={visible:!1,isFlipped:!1},r}return(0,p.default)(t,e),t.prototype.renderProfilecard=function(){return m.default.createElement(b.default,{position:this.props.position,isFlipped:this.state.isFlipped},m.default.createElement(w.AnimationWrapper,{position:this.props.position,isFlipped:this.state.isFlipped},m.default.createElement(E.default,{userId:this.props.userId,cloudId:this.props.cloudId,resourceClient:this.props.resourceClient,actions:this.props.actions,analytics:this.props.analytics})))},t.prototype.render=function(){var e=this.props,t=e.children,n=e.position,r=e.trigger,o="hover"===r?y.default:T,l={},a={};return"hover"===r?(l.onMouseEnter=this.showProfilecard,l.onMouseLeave=this.hideProfilecard):(l.onClick=this.showProfilecard,a.handleClickOutside=this.hideProfilecard,a.handleEscapeKeydown=this.hideProfilecard),m.default.createElement("div",(0,i.default)({style:{display:"inline-block",maxWidth:"100%"}},l),this.state.visible?m.default.createElement(o,(0,i.default)({autoFlip:!0,content:this.renderProfilecard(),offset:"0 4",onFlippedChange:this.handleLayerFlipChange,position:n},a),t):t)},t}(h.PureComponent);M.propTypes={children:f.default.element.isRequired,position:f.default.oneOf(P),userId:f.default.string.isRequired,cloudId:f.default.string,actions:f.default.arrayOf(f.default.shape({callback:f.default.func,label:f.default.string})),resourceClient:f.default.shape({getProfile:f.default.func,getCachedProfile:f.default.func,makeRequest:f.default.func}).isRequired,trigger:f.default.oneOf(["click","hover"]),analytics:f.default.func},M.defaultProps={position:"top left",actions:[],trigger:"hover"},t.default=M},function(e,t){e.exports=require("@atlaskit/layer")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),i=r(o),l=n(5),a=r(l),s=n(6),u=r(s),d=n(16),p=r(d),c=(0,p.default)(["\n  position: relative;\n"],["\n  position: relative;\n"]),f=(0,p.default)(["\n  position: absolute;\n  ","\n"],["\n  position: absolute;\n  ","\n"]),h=n(7),m=r(h),g=n(8),y=r(g),x=n(17),b=r(x),v={"top left":{left:0,bottom:0},"top right":{right:0,bottom:0},"right top":{left:0,top:0},"right bottom":{left:0,bottom:0},"bottom right":{right:0,top:0},"bottom left":{left:0,top:0},"left bottom":{right:0,bottom:0},"left top":{right:0,top:0}},C=b.default.div(c),k=b.default.div(f,function(e){return v[e.position]}),E=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.render=function(){return y.default.createElement(C,null,y.default.createElement(k,{position:this.props.position},this.props.children))},t}(g.PureComponent);E.propTypes={children:m.default.element,position:m.default.string},E.defaultProps={position:"top left"},t.default=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t,n;return n=t=function(t){function n(){var e,r,o;(0,l.default)(this,n);for(var i=arguments.length,a=Array(i),u=0;u<i;u++)a[u]=arguments[u];return e=r=(0,s.default)(this,t.call.apply(t,[this].concat(a))),r.handleClick=function(e){var t=g.default.findDOMNode(r);(!t||e.target instanceof Node&&!t.contains(e.target))&&r.props.handleClickOutside()},r.handleKeydown=function(e){"Escape"===e.code&&r.props.handleEscapeKeydown()},o=e,(0,s.default)(r,o)}return(0,d.default)(n,t),n.prototype.componentDidMount=function(){this.props.handleClickOutside&&document.addEventListener("click",this.handleClick,!1),this.props.handleEscapeKeydown&&document.addEventListener("keydown",this.handleKeydown,!1)},n.prototype.componentWillUnmount=function(){this.props.handleClickOutside&&document.removeEventListener("click",this.handleClick,!1),this.props.handleEscapeKeydown&&document.removeEventListener("keydown",this.handleKeydown,!1)},n.prototype.render=function(){return h.default.createElement(e,this.props)},n}(f.PureComponent),t.propTypes={handleClickOutside:c.default.func,handleEscapeKeydown:c.default.func},n}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),l=r(i),a=n(5),s=r(a),u=n(6),d=r(u);t.default=o;var p=n(7),c=r(p),f=n(8),h=r(f),m=n(40),g=r(m)},function(e,t){e.exports=require("react-dom")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AnimationWrapper=t.getKeyframeName=void 0;var o=n(16),i=r(o),l=(0,i.default)(["translateY(","px)"],["translateY(","px)"]),a=(0,i.default)(["translateX(","px)"],["translateX(","px)"]),s=(0,i.default)(["",""],["",""]),u=(0,i.default)(["\n  animation: "," ","s ","s backwards;\n"],["\n  animation: "," ","s ","s backwards;\n"]),d=n(17),p=r(d),c=n(26),f=c.akAnimationMixins.createBold,h=c.akAnimationMixins.interpolate,m=2*c.akGridSizeUnitless,g=.1,y=g+1,x={property:"transform",value:h(l,function(e){return e}),deltas:[{from:m,to:0}]},b={property:"transform",value:h(l,function(e){return e}),deltas:[{from:-m,to:0}]},v={property:"transform",value:h(a,function(e){return e}),deltas:[{from:m,to:0}]},C={property:"transform",value:h(a,function(e){return e}),deltas:[{from:-m,to:0}]},k={property:"opacity",deltas:[{from:0,to:1}]},E={bottom:(0,d.keyframes)(s,f([b,k])),left:(0,d.keyframes)(s,f([v,k])),right:(0,d.keyframes)(s,f([C,k])),top:(0,d.keyframes)(s,f([x,k]))},w={bottom:E.top,left:E.right,right:E.left,top:E.bottom},P=t.getKeyframeName=function(e){var t=e.position,n=e.isFlipped,r=t.split(" ")[0];
return n?w[r]:E[r]};t.AnimationWrapper=p.default.div(u,function(e){return P(e)},y,g)}]);