"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Rusha = require("rusha");
var estimatedChunkSize = 4 * 1024 * 1024; // hint for Rusha
var SimpleHasher = /** @class */ (function () {
    function SimpleHasher() {
    }
    SimpleHasher.prototype.hash = function (chunk) {
        var file = chunk.fileObj.file;
        var chunkBlob = file.slice(chunk.startByte, chunk.endByte);
        var fileReader = new FileReader();
        fileReader.onload = function (event) {
            var arrayBuffer = event.target.result;
            chunk.hash = new Rusha(estimatedChunkSize).digestFromArrayBuffer(arrayBuffer);
            chunk.preprocessFinished();
        };
        fileReader.readAsArrayBuffer(chunkBlob);
    };
    return SimpleHasher;
}());
exports.SimpleHasher = SimpleHasher;
//# sourceMappingURL=simpleHasher.js.map