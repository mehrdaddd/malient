"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var localUpload_1 = require("./localUpload");
var events_1 = require("../outer/analytics/events");
var Browser = /** @class */ (function (_super) {
    tslib_1.__extends(Browser, _super);
    function Browser(analyticsContext, context, browserConfig) {
        if (browserConfig === void 0) { browserConfig = { uploadParams: {} }; }
        var _this = _super.call(this, analyticsContext, context, browserConfig) || this;
        _this.browseElem = document.createElement('INPUT');
        _this.browseElem.setAttribute('type', 'file');
        _this.browseElem.style.display = 'none';
        if (browserConfig.multiple) {
            _this.browseElem.setAttribute('multiple', '');
        }
        if (browserConfig.fileExtensions) {
            _this.browseElem.setAttribute('accept', browserConfig.fileExtensions.join(','));
        }
        // IE11 hack - click will not execute if input has no parent
        // WebDriver hack - click will not execute if input isn't in the document
        document.body.appendChild(_this.browseElem);
        _this.uploadService.addBrowse(_this.browseElem);
        _this.analyticsContext.trackEvent(new events_1.MPBrowserLoaded());
        return _this;
    }
    Browser.prototype.browse = function () {
        this.browseElem.click();
    };
    Browser.prototype.teardown = function () {
        var parentNode = this.browseElem.parentNode;
        if (parentNode) {
            parentNode.removeChild(this.browseElem);
        }
    };
    return Browser;
}(localUpload_1.LocalUploadComponent));
exports.Browser = Browser;
//# sourceMappingURL=browser.js.map