import createRequest from './util/createRequest';
var MediaUrlPreviewService = /** @class */ (function () {
    function MediaUrlPreviewService(config) {
        this.config = config;
    }
    MediaUrlPreviewService.prototype.getUrlPreview = function (url) {
        var request = createRequest({
            config: this.config,
        });
        return request({
            url: '/link/preview',
            params: { url: url },
        }).response.then(function (json) {
            var _a = json.data, preview = _a.preview, previewError = _a.previewError;
            if (previewError) {
                throw new Error(previewError.code + ": " + previewError.name);
            }
            return preview;
        });
    };
    return MediaUrlPreviewService;
}());
export { MediaUrlPreviewService };
//# sourceMappingURL=urlPreviewService.js.map