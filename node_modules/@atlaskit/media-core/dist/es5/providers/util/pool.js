"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Pool = /** @class */ (function () {
    function Pool() {
        this.referenceCountById = {};
        this.referencesById = {};
    }
    Pool.prototype.acquire = function (poolId, createItem) {
        if (!this.referenceCountById[poolId]) {
            this.referencesById[poolId] = createItem();
            this.referenceCountById[poolId] = 0;
        }
        this.referenceCountById[poolId] = this.referenceCountById[poolId] + 1;
        return this.referencesById[poolId];
    };
    Pool.prototype.release = function (poolId) {
        if (this.referenceCountById[poolId] > 0) {
            this.referenceCountById[poolId] = this.referenceCountById[poolId] - 1;
        }
        if (!this.referenceCountById[poolId]) {
            delete this.referencesById[poolId];
        }
    };
    return Pool;
}());
exports.Pool = Pool;
//# sourceMappingURL=pool.js.map