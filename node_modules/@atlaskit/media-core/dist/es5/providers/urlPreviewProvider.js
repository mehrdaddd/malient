"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var urlPreviewService_1 = require("../services/urlPreviewService");
var Observable_1 = require("rxjs/Observable");
var UrlPreviewProvider = /** @class */ (function () {
    function UrlPreviewProvider() {
    }
    UrlPreviewProvider.fromMediaApi = function (config, url) {
        return UrlPreviewProvider.fromUrlPreviewService(new urlPreviewService_1.MediaUrlPreviewService(config), url);
    };
    UrlPreviewProvider.fromUrlPreviewService = function (urlPreviewService, url) {
        return {
            observable: function () {
                return new Observable_1.Observable(function (observer) {
                    urlPreviewService.getUrlPreview(url).then(function (linkPreview) {
                        observer.next(linkPreview);
                        observer.complete();
                    }, function (error) {
                        observer.error(error);
                    });
                    return function () { };
                });
            },
        };
    };
    return UrlPreviewProvider;
}());
exports.UrlPreviewProvider = UrlPreviewProvider;
//# sourceMappingURL=urlPreviewProvider.js.map