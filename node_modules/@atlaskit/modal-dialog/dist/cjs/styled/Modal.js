'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Dialog = exports.PositionerRelative = exports.PositionerAbsolute = exports.FillScreen = exports.dialogHeight = exports.dialogWidth = undefined;

var _taggedTemplateLiteral2 = require('babel-runtime/helpers/taggedTemplateLiteral');

var _taggedTemplateLiteral3 = _interopRequireDefault(_taggedTemplateLiteral2);

var _templateObject = (0, _taggedTemplateLiteral3.default)(['\n  height: 100vh;\n  left: 0;\n  overflow-y: auto;\n  position: absolute;\n  top: ', 'px;\n  width: 100%;\n  z-index: ', ';\n  -webkit-overflow-scrolling: touch;\n'], ['\n  height: 100vh;\n  left: 0;\n  overflow-y: auto;\n  position: absolute;\n  top: ', 'px;\n  width: 100%;\n  z-index: ', ';\n  -webkit-overflow-scrolling: touch;\n']),
    _templateObject2 = (0, _taggedTemplateLiteral3.default)(['\n  display: flex;\n  flex-direction: column;\n  height: ', ';\n  left: 0;\n  margin-left: auto;\n  margin-right: auto;\n  max-width: ', ';\n  position: absolute;\n  right: 0;\n  top: ', 'px;\n  width: ', ';\n  z-index: ', ';\n'], ['\n  display: flex;\n  flex-direction: column;\n  height: ', ';\n  left: 0;\n  margin-left: auto;\n  margin-right: auto;\n  max-width: ', ';\n  position: absolute;\n  right: 0;\n  top: ', 'px;\n  width: ', ';\n  z-index: ', ';\n']),
    _templateObject3 = (0, _taggedTemplateLiteral3.default)(['\n  margin: ', 'px auto;\n  position: relative;\n  width: ', ';\n  z-index: ', ';\n'], ['\n  margin: ', 'px auto;\n  position: relative;\n  width: ', ';\n  z-index: ', ';\n']),
    _templateObject4 = (0, _taggedTemplateLiteral3.default)(['\n  ', ' color: ', ';\n  display: flex;\n  flex-direction: column;\n  height: ', ';\n  ', ';\n  outline: 0;\n'], ['\n  ', ' color: ', ';\n  display: flex;\n  flex-direction: column;\n  height: ', ';\n  ', ';\n  outline: 0;\n']),
    _templateObject5 = (0, _taggedTemplateLiteral3.default)(['\n          background-color: ', ';\n          border-radius: ', 'px;\n          box-shadow: ', ';\n        '], ['\n          background-color: ', ';\n          border-radius: ', 'px;\n          box-shadow: ', ';\n        ']);

var _styledComponents = require('styled-components');

var _styledComponents2 = _interopRequireDefault(_styledComponents);

var _theme = require('@atlaskit/theme');

var _sharedVariables = require('../shared-variables');

var _flexMaxHeightIeFix = require('../utils/flex-max-height-ie-fix');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var boxShadow = function boxShadow(_ref) {
  var isChromeless = _ref.isChromeless;
  return isChromeless ? 'none' : '\n    0 0 0 1px ' + _theme.colors.N30A + ', 0 2px 1px ' + _theme.colors.N30A + ',\n    0 0 20px -6px ' + _theme.colors.N60A + '\n  ';
};
var dialogBgColor = function dialogBgColor(_ref2) {
  var isChromeless = _ref2.isChromeless;
  return isChromeless ? 'transparent' : (0, _theme.themed)({ light: _theme.colors.N0, dark: _theme.colors.DN50 });
};
var maxDimensions = 'calc(100% - ' + _sharedVariables.gutter * 2 + 'px)';
var maxHeightDimensions = 'calc(100% - ' + (_sharedVariables.gutter * 2 - _flexMaxHeightIeFix.IEMaxHeightCalcPx) + 'px)';

var dialogWidth = exports.dialogWidth = function dialogWidth(_ref3) {
  var widthName = _ref3.widthName,
      widthValue = _ref3.widthValue;

  if (typeof widthValue === 'number') {
    return widthValue + 'px';
  }

  return widthName ? _sharedVariables.WIDTH_ENUM.widths[widthName] + 'px' : widthValue || 'auto';
};
var dialogHeight = exports.dialogHeight = function dialogHeight(_ref4) {
  var heightValue = _ref4.heightValue;

  if (typeof heightValue === 'number') {
    return heightValue + 'px';
  }

  return heightValue || 'auto';
};

/**
  NOTE:
  z-index
  - temporarily added to beat @atlaskit/navigation

  absolute + top
  - rather than fixed position so popper.js children are properly positioned

  overflow-y
  - only active when popper.js children envoked below the dialog
*/
var FillScreen = exports.FillScreen = _styledComponents2.default.div(_templateObject, function (p) {
  return p.scrollDistance;
}, _theme.layers.modal);

var PositionerAbsolute = exports.PositionerAbsolute = _styledComponents2.default.div(_templateObject2, maxHeightDimensions, maxDimensions, _sharedVariables.gutter, dialogWidth, _theme.layers.modal);
var PositionerRelative = exports.PositionerRelative = _styledComponents2.default.div(_templateObject3, _sharedVariables.gutter, dialogWidth, _theme.layers.modal);

var Dialog = exports.Dialog = _styledComponents2.default.div(_templateObject4, function (p) {
  return p.isChromeless ? null : (0, _styledComponents.css)(_templateObject5, dialogBgColor, _theme.borderRadius, boxShadow);
}, _theme.colors.text, dialogHeight, _flexMaxHeightIeFix.flexMaxHeightIEFix);

PositionerAbsolute.displayName = 'PositionerAbsolute';
Dialog.displayName = 'Dialog';
FillScreen.displayName = 'FillScreen';
PositionerRelative.displayName = 'PositionerRelative';