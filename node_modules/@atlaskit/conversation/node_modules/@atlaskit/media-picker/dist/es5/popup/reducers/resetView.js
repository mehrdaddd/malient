"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var actions_1 = require("../actions");
function resetView(state, action) {
    if (actions_1.isResetViewAction(action)) {
        var selectedItems = [];
        var oldUploads_1 = state.uploads;
        var uploads = Object.keys(oldUploads_1)
            .filter(function (uploadId) {
            var progress = oldUploads_1[uploadId].progress;
            return typeof progress === 'number' && progress < 1; // remove files that finished upload
        })
            .reduce(function (uploads, fileIdToKeep) {
            uploads[fileIdToKeep] = oldUploads_1[fileIdToKeep];
            return uploads;
        }, {});
        return tslib_1.__assign({}, state, { selectedItems: selectedItems,
            uploads: uploads });
    }
    else {
        return state;
    }
}
exports.default = resetView;
//# sourceMappingURL=resetView.js.map