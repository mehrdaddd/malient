"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var fileToBase64_1 = require("../popup/tools/fileToBase64");
exports.getPreviewFromBlob = function (file, mediaType) {
    return new Promise(function (resolve, reject) {
        fileToBase64_1.fileToBase64(file)
            .then(function (src) {
            if (mediaType === 'image') {
                var img_1 = new Image();
                img_1.src = src;
                img_1.onload = function () {
                    var src = img_1.src;
                    var dimensions = { width: img_1.width, height: img_1.height };
                    resolve({ src: src, dimensions: dimensions });
                };
                img_1.onerror = reject;
            }
            else {
                resolve({ src: src });
            }
        })
            .catch(reject);
    });
};
//# sourceMappingURL=getPreviewFromBlob.js.map