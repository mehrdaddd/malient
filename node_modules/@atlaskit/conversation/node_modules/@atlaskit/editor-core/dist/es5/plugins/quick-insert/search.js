"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function distance(str1, str2) {
    var lowerStr2 = str2.toLowerCase();
    return str1
        .toLowerCase()
        .split('')
        .reduce(function (dist, char, index) {
        var indexInStr2 = lowerStr2.indexOf(char);
        if (indexInStr2 === -1) {
            return Infinity;
        }
        if (index === indexInStr2) {
            return dist;
        }
        return dist + Math.abs(index - indexInStr2);
    }, 0);
}
exports.distance = distance;
function find(query, items, extractSearchString) {
    if (extractSearchString === void 0) { extractSearchString = function (item) { return item; }; }
    var itemsWithDistances = items.map(function (item) {
        return {
            item: item,
            dist: distance(query, extractSearchString(item)),
        };
    });
    return itemsWithDistances
        .filter(function (item) { return item.dist !== Infinity; })
        .sort(function (a, b) { return (a.dist > b.dist ? 1 : a.dist < b.dist ? -1 : 0); })
        .map(function (item) { return item.item; });
}
exports.find = find;
//# sourceMappingURL=search.js.map