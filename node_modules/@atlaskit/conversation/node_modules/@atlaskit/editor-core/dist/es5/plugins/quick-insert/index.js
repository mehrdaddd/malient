"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var React = require("react");
var info_1 = require("@atlaskit/icon/glyph/editor/info");
var date_1 = require("@atlaskit/icon/glyph/editor/date");
var table_1 = require("@atlaskit/icon/glyph/editor/table");
var utils_1 = require("../table/utils");
var search_1 = require("./search");
var ITEMS = [
    {
        title: 'Panel',
        icon: function () { return React.createElement(info_1.default, { label: "Insert Panel" }); },
        action: function (state, replaceWith) {
            return replaceWith(state.schema.nodes.panel.createChecked({}, state.schema.nodes.paragraph.createChecked()));
        },
    },
    {
        title: 'Table',
        icon: function () { return React.createElement(table_1.default, { label: "Insert table" }); },
        action: function (state, replaceWith) {
            return replaceWith(utils_1.createTableNode(3, 3, state.schema));
        },
    },
    {
        title: 'Date',
        icon: function () { return React.createElement(date_1.default, { label: "Insert Date" }); },
        action: function (state, replaceWith) {
            return replaceWith(state.schema.nodes.date.createChecked({ timestamp: Date.now() }));
        },
    },
    {
        title: 'Browse all...',
        action: function () {
            document.location.href = 'https://atlassian.com';
            return true;
        },
    },
];
var quickInsertPlugin = {
    pluginsOptions: {
        typeAhead: {
            trigger: '/',
            getItems: function (query) {
                return new Promise(function (resolve) {
                    setTimeout(function () {
                        resolve(search_1.find(query, ITEMS, function (item) { return item.title; }));
                    }, 100);
                });
            },
            selectItem: function (state, item, replaceWith) {
                return item.action(state, replaceWith);
            },
        },
    },
};
exports.default = quickInsertPlugin;
//# sourceMappingURL=index.js.map