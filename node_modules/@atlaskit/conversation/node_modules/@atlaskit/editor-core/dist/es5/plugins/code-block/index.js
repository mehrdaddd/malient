"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var React = require("react");
var editor_common_1 = require("@atlaskit/editor-common");
var main_1 = require("./pm-plugins/main");
var keymaps_1 = require("./pm-plugins/keymaps");
var LanguagePicker_1 = require("./ui/LanguagePicker");
var codeBlockPlugin = {
    nodes: function () {
        return [{ name: 'codeBlock', node: editor_common_1.codeBlock, rank: 800 }];
    },
    pmPlugins: function () {
        return [
            { rank: 700, plugin: function () { return main_1.plugin; } },
            { rank: 720, plugin: function (_a) {
                    var schema = _a.schema;
                    return keymaps_1.default(schema);
                } },
        ];
    },
    contentComponent: function (_a) {
        var editorView = _a.editorView, appearance = _a.appearance, popupsMountPoint = _a.popupsMountPoint, popupsBoundariesElement = _a.popupsBoundariesElement;
        if (appearance === 'message') {
            return null;
        }
        var pluginState = main_1.stateKey.getState(editorView.state);
        return (React.createElement(LanguagePicker_1.default, { editorView: editorView, pluginState: pluginState, popupsMountPoint: popupsMountPoint, popupsBoundariesElement: popupsBoundariesElement }));
    },
};
exports.default = codeBlockPlugin;
//# sourceMappingURL=index.js.map