import { browser } from '@atlaskit/editor-common';
export var toggleBold = makeKeyMapWithCommon('Bold', 'Mod-b');
export var toggleItalic = makeKeyMapWithCommon('Italic', 'Mod-i');
export var toggleUnderline = makeKeyMapWithCommon('Underline', 'Mod-u');
export var toggleStrikethrough = makeKeyMapWithCommon('Strikethrough', 'Mod-Shift-s');
export var toggleCode = makeKeyMapWithCommon('Code', 'Mod-Shift-m');
export var clearFormatting = makeKeyMapWithCommon('Clear formatting', 'Mod-\\');
export var setNormalText = makeKeymap('Normal text', '', 'Cmd-Alt-0');
export var toggleHeading1 = makeKeymap('Heading 1', '', 'Cmd-Alt-1');
export var toggleHeading2 = makeKeymap('Heading 2', '', 'Cmd-Alt-2');
export var toggleHeading3 = makeKeymap('Heading 3', '', 'Cmd-Alt-3');
export var toggleHeading4 = makeKeymap('Heading 4', '', 'Cmd-Alt-4');
export var toggleHeading5 = makeKeymap('Heading 5', '', 'Cmd-Alt-5');
export var toggleOrderedList = makeKeymap('Numbered list', '', 'Cmd-Shift-7');
export var toggleBulletList = makeKeymap('Bullet list', '', 'Cmd-Shift-8');
export var toggleBlockQuote = makeKeymap('Block quote', '', 'Cmd-Alt-9');
export var insertNewLine = makeKeyMapWithCommon('Insert new line', 'Shift-Enter');
export var shiftBackspace = makeKeyMapWithCommon('Shift Backspace', 'Shift-Backspace');
export var splitCodeBlock = makeKeyMapWithCommon('Split code block', 'Enter');
export var splitListItem = makeKeyMapWithCommon('Split list item', 'Enter');
export var insertRule = makeKeyMapWithCommon('Insert horizontal rule', 'Mod-Shift--');
export var undo = makeKeyMapWithCommon('Undo', 'Mod-z');
export var moveUp = makeKeyMapWithCommon('Move up', 'ArrowUp');
export var moveDown = makeKeyMapWithCommon('Move down', 'ArrowDown');
export var moveLeft = makeKeyMapWithCommon('Move left', 'ArrowLeft');
export var moveRight = makeKeyMapWithCommon('Move right', 'ArrowRight');
export var indentList = makeKeyMapWithCommon('Indent List', 'Tab');
export var outdentList = makeKeyMapWithCommon('Outdent List', 'Shift-Tab');
export var redo = makeKeymap('Redo', 'Ctrl-y', 'Cmd-Shift-z');
export var redoBarred = makeKeymap('Redo Barred', 'Ctrl-Shift-z', 'Cmd-y');
export var openHelp = makeKeyMapWithCommon('Open Help', 'Mod-/');
export var addLink = makeKeyMapWithCommon('Insert link', 'Mod-k');
export var submit = makeKeyMapWithCommon('Submit Content', 'Mod-Enter');
export var enter = makeKeyMapWithCommon('Enter', 'Enter');
export var tab = makeKeyMapWithCommon('Tab', 'Tab');
export var backspace = makeKeyMapWithCommon('Backspace', 'Backspace');
export var deleteKey = makeKeyMapWithCommon('Delete', 'Delete');
export var space = makeKeyMapWithCommon('Space', 'Space');
export var escape = makeKeyMapWithCommon('Escape', 'Escape');
export var nextCell = makeKeyMapWithCommon('Next cell', 'Tab');
export var previousCell = makeKeyMapWithCommon('Previous cell', 'Shift-Tab');
export var toggleTable = makeKeyMapWithCommon('Table', 'Shift-Alt-t');
export var cut = makeKeyMapWithCommon('Cut', 'Mod-x');
export var copy = makeKeyMapWithCommon('Copy', 'Mod-c');
export var paste = makeKeyMapWithCommon('Paste', 'Mod-v');
export var altPaste = makeKeyMapWithCommon('Paste', 'Mod-Shift-v');
export function tooltip(keymap, compact) {
    if (keymap) {
        var shortcut = void 0;
        if (browser.mac) {
            shortcut = keymap.mac
                .replace(/Cmd/i, '⌘')
                .replace(/Shift/i, '⇧')
                .replace(/Ctrl/i, '^')
                .replace(/Alt/i, '⌥');
        }
        else {
            shortcut = keymap.windows;
        }
        var keys = shortcut.split('-');
        keys[keys.length - 1] = keys[keys.length - 1].toUpperCase();
        shortcut = keys.join(browser.mac ? '' : '+');
        return compact ? shortcut : keymap.description + " " + shortcut;
    }
}
export function findKeymapByDescription(description) {
    var matches = ALL.filter(function (keymap) { return keymap.description.toUpperCase() === description.toUpperCase(); });
    return matches[0];
}
export function findShortcutByDescription(description) {
    var keymap = findKeymapByDescription(description);
    if (keymap) {
        return findShortcutByKeymap(keymap);
    }
}
export function findShortcutByKeymap(keymap) {
    if (browser.mac) {
        return keymap.mac;
    }
    return keymap.windows;
}
var ALL = [
    toggleOrderedList,
    toggleBulletList,
    toggleBold,
    toggleItalic,
    toggleUnderline,
    toggleStrikethrough,
    toggleCode,
    setNormalText,
    toggleHeading1,
    toggleHeading2,
    toggleHeading3,
    toggleHeading4,
    toggleHeading5,
    toggleBlockQuote,
    insertNewLine,
    insertRule,
    splitCodeBlock,
    splitListItem,
    redo,
    undo,
];
function makeKeymap(description, windows, mac, common) {
    return {
        description: description,
        windows: windows,
        mac: mac,
        common: common,
    };
}
function makeKeyMapWithCommon(description, common) {
    var windows = common.replace(/Mod/i, 'Ctrl');
    var mac = common.replace(/Mod/i, 'Cmd');
    return makeKeymap(description, windows, mac, common);
}
export function bindKeymapWithCommand(shortcut, cmd, keymap) {
    var oldCmd = keymap[shortcut];
    var newCmd = cmd;
    if (keymap[shortcut]) {
        newCmd = function (state, dispatch, editorView) {
            return oldCmd(state, dispatch) || cmd(state, dispatch, editorView);
        };
    }
    keymap[shortcut] = newCmd;
}
export function findKeyMapForBrowser(kayMap) {
    if (kayMap) {
        if (browser.mac) {
            return kayMap.mac;
        }
        return kayMap.windows;
    }
}
export var keyCodes = {
    Enter: 13,
    Backspace: 8,
    Tab: 9,
    Shift: 16,
    Ctrl: 17,
    Alt: 18,
    Pause: 19,
    CapsLock: 20,
    Esc: 27,
    Space: 32,
    PageUp: 63276,
    PageDown: 63277,
    End: 63275,
    Home: 63273,
    Left: 63234,
    Up: 63232,
    Right: 63235,
    Down: 63233,
    PrintScrn: 44,
    Insert: 63302,
    Delete: 46,
    ';': 186,
    '=': 187,
    Mod: 93,
    '*': 106,
    '-': 189,
    '.': 190,
    '/': 191,
    ',': 188,
    '`': 192,
    '[': 219,
    '\\': 220,
    ']': 221,
    "'": 222,
};
export var LEFT = 37;
export var RIGHT = 39;
export var UP = 38;
export var DOWN = 40;
//# sourceMappingURL=index.js.map