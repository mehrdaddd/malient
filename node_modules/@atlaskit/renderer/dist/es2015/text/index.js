import { defaultSchema } from '@atlaskit/editor-common';
import { reduceTree } from './utils';
var serializeTree = function (node) {
    if (node.content) {
        return node.content
            .reduce(function (arr, childNode) {
            if (!childNode.text && !childNode.content) {
                return arr;
            }
            arr.push((node.text || '') + serializeTree(childNode));
            return arr;
        }, [])
            .join('\n');
    }
    return node.text;
};
var TextSerializer = /** @class */ (function () {
    function TextSerializer(schema) {
        this.schema = schema;
        this.schema = schema;
    }
    TextSerializer.prototype.serializeFragment = function (fragment) {
        var tree = { content: reduceTree(fragment, this.schema) };
        return serializeTree(tree);
    };
    TextSerializer.fromSchema = function (schema) {
        if (schema === void 0) { schema = defaultSchema; }
        return new TextSerializer(schema);
    };
    return TextSerializer;
}());
export default TextSerializer;
//# sourceMappingURL=index.js.map