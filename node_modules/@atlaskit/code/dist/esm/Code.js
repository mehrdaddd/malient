import _Object$getPrototypeOf from 'babel-runtime/core-js/object/get-prototype-of';
import _classCallCheck from 'babel-runtime/helpers/classCallCheck';
import _createClass from 'babel-runtime/helpers/createClass';
import _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';
import _inherits from 'babel-runtime/helpers/inherits';
import React, { PureComponent } from 'react';
import SyntaxHighlighter from 'react-syntax-highlighter';
import { normalizeLanguage } from './supportedLanguages';
import { applyTheme } from './themes/themeBuilder';

var Code = function (_PureComponent) {
  _inherits(Code, _PureComponent);

  function Code() {
    _classCallCheck(this, Code);

    return _possibleConstructorReturn(this, (Code.__proto__ || _Object$getPrototypeOf(Code)).apply(this, arguments));
  }

  _createClass(Code, [{
    key: 'render',
    value: function render() {
      var language = this.props.language;

      var _applyTheme = applyTheme(this.props.theme),
          inlineCodeStyle = _applyTheme.inlineCodeStyle;

      var props = {
        language: normalizeLanguage(language),
        PreTag: 'span',
        style: inlineCodeStyle,
        showLineNumbers: false
      };
      return React.createElement(
        SyntaxHighlighter,
        props,
        this.props.text
      );
    }
  }]);

  return Code;
}(PureComponent);

Code.defaultProps = {
  language: '',
  theme: {}
};
export default Code;