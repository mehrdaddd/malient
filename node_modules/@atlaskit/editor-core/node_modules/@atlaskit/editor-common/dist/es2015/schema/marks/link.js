import { LINK, COLOR } from '../groups';
import { isSafeUrl, normalizeUrl } from '../../utils';
export var link = {
    excludes: COLOR,
    group: LINK,
    attrs: {
        href: {},
    },
    inclusive: false,
    parseDOM: [
        {
            tag: 'a[href]',
            getAttrs: function (dom) {
                var href = dom.getAttribute('href') || '';
                if (href.slice(-1) === '/') {
                    href = href.slice(0, -1);
                }
                return isSafeUrl(href) ? { href: normalizeUrl(href) } : false;
            },
        },
    ],
    toDOM: function (node) {
        return ['a', node.attrs];
    },
};
//# sourceMappingURL=link.js.map