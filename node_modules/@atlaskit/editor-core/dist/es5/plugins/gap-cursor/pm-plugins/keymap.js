"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var prosemirror_keymap_1 = require("prosemirror-keymap");
var keymaps = require("../../../keymaps");
var actions_1 = require("../actions");
function keymapPlugin() {
    var map = {};
    keymaps.bindKeymapWithCommand(keymaps.moveLeft.common, function (state, dispatch, view) {
        var endOfTextblock = view ? view.endOfTextblock.bind(view) : undefined;
        return actions_1.arrow(0 /* BACKWARD */, endOfTextblock)(state, dispatch);
    }, map);
    keymaps.bindKeymapWithCommand(keymaps.moveRight.common, function (state, dispatch, view) {
        var endOfTextblock = view ? view.endOfTextblock.bind(view) : undefined;
        return actions_1.arrow(1 /* FORWARD */, endOfTextblock)(state, dispatch);
    }, map);
    // default PM's Backspace doesn't handle removing block nodes when cursor is after it
    keymaps.bindKeymapWithCommand(keymaps.backspace.common, actions_1.deleteNode(0 /* BACKWARD */), map);
    // handle Delete key (remove node before the cursor)
    keymaps.bindKeymapWithCommand(keymaps.deleteKey.common, actions_1.deleteNode(1 /* FORWARD */), map);
    return prosemirror_keymap_1.keymap(map);
}
exports.default = keymapPlugin;
//# sourceMappingURL=keymap.js.map