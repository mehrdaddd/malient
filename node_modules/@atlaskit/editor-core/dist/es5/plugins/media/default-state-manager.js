"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var event_dispatcher_1 = require("../../event-dispatcher");
var DefaultMediaStateManager = /** @class */ (function (_super) {
    tslib_1.__extends(DefaultMediaStateManager, _super);
    function DefaultMediaStateManager() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.state = new Map();
        return _this;
    }
    DefaultMediaStateManager.prototype.getState = function (tempId) {
        return this.state.get(tempId);
    };
    DefaultMediaStateManager.prototype.newState = function (file, status, publicId) {
        var getState = this.state.get("temporary:" + file.id);
        var newPublicId = publicId ? { publicId: publicId } : {};
        return tslib_1.__assign({}, getState, { id: "temporary:" + file.id, fileName: file.name, fileSize: file.size, fileMimeType: file.type, status: status }, newPublicId);
    };
    DefaultMediaStateManager.prototype.updateState = function (tempId, newState) {
        var state = tslib_1.__assign({}, (this.state.get(tempId) || {}), newState);
        this.state.set(tempId, state);
        this.emit(tempId, state);
    };
    return DefaultMediaStateManager;
}(event_dispatcher_1.EventDispatcher));
exports.default = DefaultMediaStateManager;
//# sourceMappingURL=default-state-manager.js.map