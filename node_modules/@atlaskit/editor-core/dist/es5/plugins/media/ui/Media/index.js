"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var React = require("react");
var react_1 = require("react");
var MediaItem_1 = require("./MediaItem");
var main_1 = require("../../pm-plugins/main");
var Media = /** @class */ (function (_super) {
    tslib_1.__extends(Media, _super);
    function Media() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Media.prototype.render = function () {
        // Pass in the fallback state manager from the editor plugin
        var stateManagerFallback = this.getStateManagerFromEditorPlugin();
        var props = tslib_1.__assign({ stateManagerFallback: stateManagerFallback }, this.props);
        return React.createElement(MediaItem_1.default, tslib_1.__assign({}, props));
    };
    // Get the state manager from the editor plugin to feed to MediaItem as a prop
    Media.prototype.getStateManagerFromEditorPlugin = function () {
        var editorView = this.props.editorView;
        if (!editorView) {
            return;
        }
        var pluginState = main_1.stateKey.getState(editorView.state);
        if (!pluginState) {
            return;
        }
        return pluginState.stateManager;
    };
    return Media;
}(react_1.PureComponent));
exports.default = Media;
//# sourceMappingURL=index.js.map