"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var prosemirror_state_1 = require("prosemirror-state");
var prosemirror_utils_1 = require("prosemirror-utils");
exports.getExtensionNode = function (state) {
    var selection = state.selection, schema = state.schema;
    var _a = schema.nodes, extension = _a.extension, inlineExtension = _a.inlineExtension, bodiedExtension = _a.bodiedExtension;
    if (selection instanceof prosemirror_state_1.NodeSelection) {
        var selectedNode = prosemirror_utils_1.findSelectedNodeOfType([
            extension,
            inlineExtension,
            bodiedExtension,
        ])(selection);
        if (selectedNode) {
            return selectedNode.node;
        }
    }
    var parent = prosemirror_utils_1.findParentNodeOfType(bodiedExtension)(selection);
    if (parent) {
        return parent.node;
    }
};
//# sourceMappingURL=utils.js.map