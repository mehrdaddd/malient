"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var prosemirror_state_1 = require("prosemirror-state");
var prosemirror_view_1 = require("prosemirror-view");
exports.pluginKey = new prosemirror_state_1.PluginKey('tableHoverSelectionPlugin');
var plugin = new prosemirror_state_1.Plugin({
    state: {
        init: function () { return ({ decorationSet: prosemirror_view_1.DecorationSet.empty, isTableHovered: false }); },
        apply: function (tr, state) {
            var meta = tr.getMeta(exports.pluginKey);
            // @see: https://product-fabric.atlassian.net/browse/ED-3796
            if (tr.docChanged) {
                return tslib_1.__assign({}, state, { decorationSet: prosemirror_view_1.DecorationSet.empty });
            }
            if (meta) {
                return tslib_1.__assign({}, state, meta);
            }
            return state;
        },
    },
    key: exports.pluginKey,
    props: {
        decorations: function (state) { return exports.pluginKey.getState(state).decorationSet; },
    },
});
exports.default = plugin;
//# sourceMappingURL=hover-selection-plugin.js.map