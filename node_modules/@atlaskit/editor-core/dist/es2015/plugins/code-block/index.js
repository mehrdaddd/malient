import * as React from 'react';
import { codeBlock } from '@atlaskit/editor-common';
import { plugin, stateKey } from './pm-plugins/main';
import keymap from './pm-plugins/keymaps';
import LanguagePicker from './ui/LanguagePicker';
var codeBlockPlugin = {
    nodes: function () {
        return [{ name: 'codeBlock', node: codeBlock, rank: 800 }];
    },
    pmPlugins: function () {
        return [
            { rank: 700, plugin: function () { return plugin; } },
            { rank: 720, plugin: function (_a) {
                    var schema = _a.schema;
                    return keymap(schema);
                } },
        ];
    },
    contentComponent: function (_a) {
        var editorView = _a.editorView, appearance = _a.appearance, popupsMountPoint = _a.popupsMountPoint, popupsBoundariesElement = _a.popupsBoundariesElement;
        if (appearance === 'message') {
            return null;
        }
        var pluginState = stateKey.getState(editorView.state);
        return (React.createElement(LanguagePicker, { editorView: editorView, pluginState: pluginState, popupsMountPoint: popupsMountPoint, popupsBoundariesElement: popupsBoundariesElement }));
    },
};
export default codeBlockPlugin;
//# sourceMappingURL=index.js.map