import * as tslib_1 from "tslib";
import { Plugin, PluginKey } from 'prosemirror-state';
import { DecorationSet } from 'prosemirror-view';
export var pluginKey = new PluginKey('tableHoverSelectionPlugin');
var plugin = new Plugin({
    state: {
        init: function () { return ({ decorationSet: DecorationSet.empty, isTableHovered: false }); },
        apply: function (tr, state) {
            var meta = tr.getMeta(pluginKey);
            // @see: https://product-fabric.atlassian.net/browse/ED-3796
            if (tr.docChanged) {
                return tslib_1.__assign({}, state, { decorationSet: DecorationSet.empty });
            }
            if (meta) {
                return tslib_1.__assign({}, state, meta);
            }
            return state;
        },
    },
    key: pluginKey,
    props: {
        decorations: function (state) { return pluginKey.getState(state).decorationSet; },
    },
});
export default plugin;
//# sourceMappingURL=hover-selection-plugin.js.map