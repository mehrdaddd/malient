"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var React = require("react");
var LoadingEmojiComponent_1 = require("../common/LoadingEmojiComponent");
var EmojiTypeAheadComponent_1 = require("./EmojiTypeAheadComponent");
var Popup_1 = require("../common/Popup");
var logger_1 = require("../../util/logger");
var EmojiTypeahead = /** @class */ (function (_super) {
    tslib_1.__extends(EmojiTypeahead, _super);
    function EmojiTypeahead(props) {
        var _this = _super.call(this, props, {}) || this;
        _this.selectNext = function () {
            if (_this.refs.typeAhead) {
                _this.refs.typeAhead.selectNext();
            }
        };
        _this.selectPrevious = function () {
            if (_this.refs.typeAhead) {
                _this.refs.typeAhead.selectPrevious();
            }
        };
        _this.chooseCurrentSelection = function () {
            if (_this.refs.typeAhead) {
                _this.refs.typeAhead.chooseCurrentSelection();
            }
        };
        _this.count = function () {
            if (_this.refs.typeAhead) {
                return _this.refs.typeAhead.count();
            }
            return 0;
        };
        return _this;
    }
    EmojiTypeahead.prototype.renderLoaded = function (loadedEmojiProvider) {
        var _a = this.props, emojiProvider = _a.emojiProvider, target = _a.target, position = _a.position, zIndex = _a.zIndex, offsetX = _a.offsetX, offsetY = _a.offsetY, otherProps = tslib_1.__rest(_a, ["emojiProvider", "target", "position", "zIndex", "offsetX", "offsetY"]);
        var typeAhead = (React.createElement(EmojiTypeAheadComponent_1.default, tslib_1.__assign({}, otherProps, { emojiProvider: loadedEmojiProvider, ref: "typeAhead" })));
        if (position) {
            logger_1.default('target, position', target, position);
            if (target) {
                return (React.createElement(Popup_1.default, { target: target, relativePosition: position, zIndex: zIndex, offsetX: offsetX, offsetY: offsetY, children: typeAhead }));
            }
            // don't show if we have a position, but no target yet
            return null;
        }
        return typeAhead;
    };
    return EmojiTypeahead;
}(LoadingEmojiComponent_1.default));
exports.default = EmojiTypeahead;
//# sourceMappingURL=EmojiTypeAhead.js.map